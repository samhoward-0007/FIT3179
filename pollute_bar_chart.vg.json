{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": { "text": "Australian Air Pollution Breakdown" },
    "width": 600,
    "height": 600,
    "data": {
        "url": "PolluteDataPerState.csv"
    },
    "transform": [
        {
            "fold": ["ACT","NSW","NT","QLD","SA","TAS","VIC","WA"],
            "as": ["State", "Quantity_in_kg"]
        },
        {
            "filter": "datum.State == selectedState"
        },
        {
            "filter": "datum.Quantity_in_kg > 0.01" 
        }
    ],
    "mark": {
        "type":"bar",
        "color": "#b30000"
    },
    "encoding": {
        "y": { "field": "Pollute", "type": "nominal" },
        "x": { "field": "Quantity_in_kg", "type": "quantitative" , "scale": {"type": "log"}}
    },
    "params": [
        {
            "name": "selectedState",
            "value": "VIC"
        }
    ]
}